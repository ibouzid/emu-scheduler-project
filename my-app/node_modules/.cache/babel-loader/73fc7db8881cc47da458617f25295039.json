{"ast":null,"code":"import _slicedToArray from \"/Users/izzeddinebouzid/Emu Project/emu-scheduler-project/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/izzeddinebouzid/Emu Project/emu-scheduler-project/my-app/src/Components/HomePageComponent.js\";\nimport React, { useState, useEffect } from 'react';\nimport UserContainer from \"./UserContainer\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport NavBarComponent from \"./NavBarComponent\";\nimport RegisterContainer from \"./RegisterContainer\";\n\nfunction StartingPageComponent() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        userInfo = _useState6[0],\n        setUserInfo = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        userEvents = _useState8[0],\n        setUserEvents = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        loggedIn = _useState10[0],\n        setLoggedIn = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        picture = _useState12[0],\n        setPicture = _useState12[1];\n\n  const _useState13 = useState(\"\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        firstName = _useState14[0],\n        setFirstName = _useState14[1];\n\n  const _useState15 = useState(\"\"),\n        _useState16 = _slicedToArray(_useState15, 2),\n        lastName = _useState16[0],\n        setLastName = _useState16[1];\n\n  const _useState17 = useState(\"\"),\n        _useState18 = _slicedToArray(_useState17, 2),\n        schoolStatus = _useState18[0],\n        setSchoolStatus = _useState18[1];\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/students\").then(response => response.json()).then(data => setUserInfo(data));\n  }, []);\n\n  function handleChange(event) {\n    if (event.target.name === \"email\") {\n      setEmail(event.target.value);\n    }\n\n    if (event.target.name === \"password\") {\n      setPassword(event.target.value);\n    }\n  }\n\n  function handleClick(event) {\n    userInfo.data.forEach(element => {\n      if (email === element.email && password === element.password) {\n        let eventUrl = \"http://localhost:5000/events:\" + element.studentId;\n        fetch(eventUrl).then(response => response.json()).then(data => {\n          setUserEvents(data.data.map(item => ({\n            title: item.title,\n            date: item.date\n          })));\n        });\n        setLoggedIn(true);\n        setLastName(element.lastName);\n        setFirstName(element.firstName);\n        setSchoolStatus(element.status);\n        setPicture(element.picture);\n      }\n    });\n  }\n\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    render: () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(NavBarComponent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"outerBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"register-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \" Email: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        placeholder: \"enter a valid email...\",\n        onChange: handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"register-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" Password: \"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"enter your password\",\n        onChange: handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"register-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \" Login \")), React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"register\")))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/register\",\n    exact: true,\n    component: RegisterContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/user\",\n    exact: true,\n    render: () => {\n      return React.createElement(UserContainer, {\n        email: email,\n        events: userEvents,\n        password: password,\n        userInfo: userInfo.data,\n        loggedIn: loggedIn,\n        firstName: firstName,\n        lastName: lastName,\n        picture: picture,\n        schoolStatus: schoolStatus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }));\n}\n\nexport default StartingPageComponent;","map":{"version":3,"sources":["/Users/izzeddinebouzid/Emu Project/emu-scheduler-project/my-app/src/Components/HomePageComponent.js"],"names":["React","useState","useEffect","UserContainer","BrowserRouter","Router","Route","Link","NavBarComponent","RegisterContainer","StartingPageComponent","email","setEmail","password","setPassword","userInfo","setUserInfo","userEvents","setUserEvents","loggedIn","setLoggedIn","picture","setPicture","firstName","setFirstName","lastName","setLastName","schoolStatus","setSchoolStatus","fetch","then","response","json","data","handleChange","event","target","name","value","handleClick","forEach","element","eventUrl","studentId","map","item","title","date","status"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport UserContainer from \"./UserContainer\";\nimport {BrowserRouter as Router,Route, Link} from \"react-router-dom\";\nimport NavBarComponent from \"./NavBarComponent\";\nimport RegisterContainer from \"./RegisterContainer\";\n\nfunction StartingPageComponent(){\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [userInfo, setUserInfo] = useState([]);\n    const [userEvents, setUserEvents] = useState([]);\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [picture, setPicture] = useState(\"\");\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [schoolStatus, setSchoolStatus] = useState(\"\");\n\n    useEffect(()=> {fetch(\"http://localhost:5000/students\")\n         .then(response => response.json())\n        .then(data => setUserInfo(data))}, []);\n\n\n\n    function handleChange(event){\n        if(event.target.name===\"email\"){\n            setEmail(event.target.value)\n        }\n        if(event.target.name===\"password\"){\n            setPassword(event.target.value)\n        }\n\n    }\n\n     function handleClick(event){\n         userInfo.data.forEach(element=> {\n             if(email === element.email  && password ===  element.password){\n                 let eventUrl = \"http://localhost:5000/events:\" + element.studentId;\n                 fetch(eventUrl)\n                     .then(response => response.json())\n                     .then(data => {setUserEvents(data.data.map(item=>({title:item.title, date:item.date})))});\n                 setLoggedIn(true);\n                 setLastName(element.lastName);\n                 setFirstName(element.firstName);\n                 setSchoolStatus(element.status);\n                 setPicture(element.picture);\n             }\n         });\n\n        }\n\n\n    return(\n        <Router>\n            <Route path=\"/\" exact render={()=>{return(\n                <div>\n                    <NavBarComponent/>\n                    <div className=\"outerBox\">\n                        <div className=\"register-input\">\n                        <label> Email: </label>\n                        <input type=\"text\" name=\"email\" placeholder=\"enter a valid email...\" onChange={handleChange}/>\n                        </div>\n\n                        <div  className=\"register-input\">\n                        <label> Password: </label>\n                        <input type=\"password\" name=\"password\" placeholder=\"enter your password\" onChange={handleChange}/>\n                        </div>\n\n                        <div  className=\"register-input\">\n                        <Link to={\"/user\"}>\n                            <button onClick={handleClick}> Login </button>\n                        </Link>\n                        <Link to=\"/register\">\n                            <button>register</button>\n                        </Link>\n                        </div>\n                    </div>\n                </div>\n            )}}\n            />\n            <Route path=\"/register\" exact component={RegisterContainer}/>\n            <Route path=\"/user\" exact render={()=>{return(<UserContainer\n                email={email}\n                events={userEvents}\n                password={password}\n                userInfo={userInfo.data}\n                loggedIn={loggedIn}\n                firstName={firstName}\n                lastName={lastName}\n                picture={picture}\n                schoolStatus={schoolStatus}\n            />)}}/>\n\n        </Router>\n\n    )\n\n}\nexport default StartingPageComponent"]},"metadata":{},"sourceType":"module"}